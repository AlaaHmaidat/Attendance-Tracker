{%extends "layout.html"%}
{% block content%}
<style>
input#submit {
    display: inline-block;
    padding: 10px 20px;
    background-color: #19a7ce;
    color: #fff;
    border: none;
    border-radius: 5px;
    font-size: 16px;
    font-weight: bold;
    text-decoration: none;
    transition: background-color 0.3s ease;
    cursor: pointer;
    margin-top: 10px;
}

input#submit:hover {
    background-color: #12869e;
}
</style>
<div class="container mt-5 align-items-center ">
    <form action="" method="POST"> 
        <!-- POst = http method , thats mean we will post thea data that inside this form for our rout that inside action but if the action is empty will do post in the same rout that we are inside it (register)  -->
        {{ form.hidden_tag()}}
        <!-- this is an attribute from form instence to protect  the form (that cant allowed the user to put any info that make the web-site in danger )  -->
<!-- fname,lname ,.... todo ---( this from forms =.py) -->
        <fieldset class="form-group ">
            <!-- fieldset to do a lot of filed that we need like user name ,last name ,email ,pass ,username  -->
            <legend class="border-bottom mb-4"> Create an Account</legend>
            <!-- legend is :the  title of the form -->
            <div class="form-group">
                <!-- we will do a loop from forms  -->
                {{ form.fname.label(class='form-control-label')}}
                <!-- i think the form is for the variable that we give in p.py for RegistrationForm() -->
                {% if form.fname.errors%}
                
                {{ form.fname(class='form-control form-control-lg is-invalid')}}
                <div class="invalid-feedback">
                    {% for error in form.fname.errors %}
                    <span>{{error}}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.fname(class='form-control form-control-lg')}}
                {% endif %}

            </div>
            <div class="form-group">
                {{ form.lname.label(class='form-control-label')}}
                {% if form.lname.errors%}
                {{ form.lname(class='form-control form-control-lg is-invalid')}}
                <div class="invalid-feedback">
                    {% for error in form.lname.errors %}
                    <span>{{error}}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.lname(class='form-control form-control-lg')}}
                {% endif %}

            </div>
            <div class="form-group">
                {{ form.username.label(class='form-control-label')}}
                {% if form.username.errors%}
                {{ form.username(class='form-control form-control-lg is-invalid')}}
                <div class="invalid-feedback">
                    {% for error in form.username.errors %}
                    <span>{{error}}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.username(class='form-control form-control-lg')}}
                {% endif %}

            </div>
            <div class="form-group">
                {{ form.email.label(class='form-control-label')}}
                {% if form.email.errors%}
                {{ form.email(class='form-control form-control-lg is-invalid')}}
                <div class="invalid-feedback">
                    {% for error in form.email.errors %}
                    <span>{{error}}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.email(class='form-control form-control-lg')}}
                {% endif %}

            </div>
            <div class="form-group my-3">
                <label class="form-control-label">{{ form.role.label }}</label>
                <ul class="list-unstyled">
                    {{ form.role(style="list-style:none") }}
                </ul>
            </div>
            
            <div class="form-group">
                {{ form.password.label(class='form-control-label')}}
                {% if form.password.errors%}
                {{ form.password(class='form-control form-control-lg is-invalid')}}
                <div class="invalid-feedback">
                    {% for error in form.password.errors %}
                    <span>{{error}}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.password(class='form-control form-control-lg')}}
                {% endif %}

            </div>
            <div class="form-group">
                {{ form.confirm_password.label(class='form-control-label')}}
                {% if form.confirm_password.errors%}
                {{ form.confirm_password(class='form-control form-control-lg is-invalid')}}
                <div class="invalid-feedback">
                    {% for error in form.confirm_password.errors %}
                    <span>{{error}}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.confirm_password(class='form-control form-control-lg')}}
                {% endif %}

            </div>
            <div class="form-group">
                {{ form.submit(class='btn btn-outline-info')}}
            </div>
        </fieldset>
    </form>

    <!-- now if the user already has an acount we will let him go to login page   -->
    <div class="broder-top pt-3">
        <small class="text-muted">
            Already have an Account?
            <a href="{{url_for('login')}}" class="ml-2">Sign in</a>
        </small>
    </div>
</div>
{% endblock content %}